<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN" "http://struts.apache.org/dtds/struts-2.3.dtd">
	
<struts>
    <package name="user" namespace="/user" extends="base">
		<default-interceptor-ref name="userInterceptor"/>
		<action name="UserType" class="com.zj198.action.user.UserAction" method="type">
			<interceptor-ref name="defaultStack"></interceptor-ref>
		</action>
		<action name="UserAction" class="com.zj198.action.user.UserAction">
		    <result name="bankCenter">/WEB-INF/web/user/bank/index.jsp</result>
		    <result name="companyCenter">/WEB-INF/web/user/company/index.jsp</result>
		    <result name="financeorgCenter">/WEB-INF/web/user/financeOrg/index.jsp</result>
		    <result name="personCenter">/WEB-INF/web/user/person/index.jsp</result>
		    <result name="serviceorgCenter">/WEB-INF/web/user/serviceOrg/index.jsp</result>
		    <result name="editCenter" type="redirect">/user/Profile!edit.act</result>
		</action>
		<action name="Profile" class="com.zj198.action.user.ProfileAction">
		    <result name="bankProfile">/WEB-INF/web/user/bank/profile.jsp</result>
		    <result name="companyProfile">/WEB-INF/web/user/company/profile.jsp</result>
		    <result name="auditCompanyProfile">/WEB-INF/web/user/company/profileAudit.jsp</result>
		    <result name="financeorgProfile">/WEB-INF/web/user/financeOrg/profile.jsp</result>
		    <result name="personProfile">/WEB-INF/web/user/person/profile.jsp</result>
		    <result name="serviceorgProfile">/WEB-INF/web/user/serviceOrg/profile.jsp</result>
		    <result name="editBankProfile">/WEB-INF/web/user/bank/edit.jsp</result>
		    <result name="editCompanyProfile">/WEB-INF/web/user/company/edit.jsp</result>
		    <result name="editCompanyAduit">/WEB-INF/web/user/company/editAudit.jsp</result>
		    <result name="editFinanceorgProfile">/WEB-INF/web/user/financeOrg/edit.jsp</result>
		    <result name="editPersonProfile">/WEB-INF/web/user/person/edit.jsp</result>
		    <result name="editServiceorgProfile">/WEB-INF/web/user/serviceOrg/edit.jsp</result>
			<result name="success" type="redirect">/user/UserAction.act</result>
		</action>
		<action name="regInfo" class="com.zj198.action.user.ProfileAction" method="regInfo">
		    <result name="regInfo">/WEB-INF/web/user/regInfo.jsp</result>
		</action>
		<action name="capital" class="com.zj198.action.user.UserAction" method="capitalLetter">
			<result name="capital">/WEB-INF/web/user/capitalLetter.jsp</result>
		</action>
		<action name="uploadImg" class="com.zj198.action.user.UploadImgAction" method="uploadImg">
			<interceptor-ref name ="defaultStack" />
			<interceptor-ref name ="fileUpload" > 
				<param name="allowedTypes">image/jpeg,image/jpg,image/gif,image/png</param>
				<param name="maximumSize">204800</param>
            </interceptor-ref > 
			<result name="input" type="redirect">/user/uploadImg!inputError.act</result>
		    <result name="success">/WEB-INF/web/user/regInfo.jsp</result>
		    <result name="msgError">/WEB-INF/web/user/regInfo.jsp</result>
		</action>
		<action name="uploadOrg" class="com.zj198.action.user.UploadImgAction" method="orgUpload">
			<interceptor-ref name ="defaultStack" />
			<interceptor-ref name ="fileUpload" > 
				<param name="allowedTypes">image/jpeg,image/jpg,image/gif,image/png</param>
				<param name="maximumSize">3025956</param>
            </interceptor-ref > 
            <result name="input">/WEB-INF/web/user/uploadOrgError.jsp</result>
		    <result name="success">/WEB-INF/web/user/org_upload_result.jsp</result>
		</action>
		<action name="orgAttach" class="com.zj198.action.user.DownloadImgAction">
		 <result name="success" type="stream">
		 	<param name="contentDisposition">attachment;filename="${imgName}"</param>
		 	<param name="contentType">application/octet-stream;charset=UTF-8</param>
		 	<param name="inputName">attachStream</param>
		 	<param name="bufferSize">4096</param>  
		 </result>
		</action>
	</package>
</struts>